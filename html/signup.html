<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - Ski-Service</title>
    <!-- Bootstrap CSS für grundlegendes Styling -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Projekt-spezifische CSS-Dateien -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/registration.css">
</head>
<body>

<!-- Vollbild-Loader, der angezeigt wird, bis die Seite vollständig geladen ist. -->
<div class="loader"></div>

<!-- JavaScript zur Steuerung des Loaders -->
<script src="/js/loader.js"></script>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="index.html">Jetstream-Ski-Service</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="services.html">Angebot</a></li>
            <li class="nav-item"><a class="nav-link" href="contact.html">Kontakt</a></li>
            <li class="nav-item"><a class="nav-link" href="registration.html">Anmeldung</a></li>
        </ul>
    </div>
</nav>

<!-- Hauptinhalt -->
<fieldset class="background">
    <section id="signUp" class="container my-5">
        <h2>Registrierung</h2>
        <form id="signUpForm" onsubmit="handleSignUp(event)">
            <div class="form-group">
                <label for="signUpFirstName">Vorname</label>
                <input type="text" class="form-control" id="signUpFirstName" placeholder="Max" required>
            </div>
            <div class="form-group">
                <label for="signUpLastName">Nachname</label>
                <input type="text" class="form-control" id="signUpLastName" placeholder="Mustermann" required>
            </div>
            <div class="form-group">
                <label for="signUpEmail">E-Mail</label>
                <input type="email" class="form-control" id="signUpEmail" placeholder="max.mustermann@muster.com" required>
            </div>
            <div class="form-group">
                <label for="signUpPassword">Passwort</label>
                <input type="password" class="form-control" id="signUpPassword" required>
            </div>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="showPassword">
                <label class="form-check-label" for="showPassword">Passwort anzeigen</label>
            </div>
            
            <div class="form-group">
                <button type="button" class="btn btn-secondary" id="generatePassword">Passwort generieren</button>
            </div>

            <button type="submit" class="btn btn-primary">Registrieren</button>
        </form>
    </section>
</fieldset>


<footer class="bg-primary text-white text-center py-4 mt-auto">
    <div class="container">
        <p>&copy; 2024 Ski-Service. Alle Rechte vorbehalten.</p>
        <ul class="list-unstyled mb-0">
            <li><a href="datenschutz.html" class="text-white">Datenschutz</a></li>
            <li><a href="impressum.html" class="text-white">Impressum</a></li>
        </ul>
    </div>
</footer>

<script>
    // Handle the Sign Up form submission
    function handleSignUp(event) {
        event.preventDefault(); // Prevent the default form submission

        // Get the form field values
        const firstName = document.getElementById('signUpFirstName').value;
        const lastName = document.getElementById('signUpLastName').value;
        const email = document.getElementById('signUpEmail').value; // Get email value

        // Redirect to the registration page with the first name, last name, and email in the URL query parameters
        window.location.href = `registration.html?firstName=${encodeURIComponent(firstName)}&lastName=${encodeURIComponent(lastName)}&email=${encodeURIComponent(email)}`;
    }

    // Show or hide the password based on checkbox
    document.getElementById("showPassword").addEventListener("change", function() {
        const passwordField = document.getElementById("signUpPassword");
        if (this.checked) {
            passwordField.type = "text"; // Show password
        } else {
            passwordField.type = "password"; // Hide password
        }
    });

    // Password Generator function
    document.getElementById("generatePassword").addEventListener("click", function() {
        const password = generatePassword(12); // Generate a random 12-character password
        document.getElementById("signUpPassword").value = password; // Set the generated password in the password field
    });

    // Function to generate a random password
    function generatePassword(length) {
        const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+";
        let password = "";
        for (let i = 0; i < length; i++) {
            const randomIndex = Math.floor(Math.random() * characters.length);
            password += characters.charAt(randomIndex);
        }
        return password;
    }
</script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
